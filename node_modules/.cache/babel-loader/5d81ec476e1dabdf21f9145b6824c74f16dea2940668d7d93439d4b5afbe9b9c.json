{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gerar\\\\OneDrive\\\\Documentos\\\\proyecto\\\\frontend\\\\src\\\\Ofertas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Ofertas.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Ofertas = () => {\n  _s();\n  const [ofertas, setOfertas] = useState([]);\n  const [ofertaSeleccionada, setOfertaSeleccionada] = useState(null);\n  const [error, setError] = useState(null);\n  const [usuario, setUsuario] = useState(null);\n  const [categorias, setCategorias] = useState([]);\n  const [categoriaSeleccionada, setCategoriaSeleccionada] = useState('');\n  const [busqueda, setBusqueda] = useState('');\n  const [verTodas, setVerTodas] = useState(false);\n  const [favoritos, setFavoritos] = useState([]);\n  const [verFavoritas, setVerFavoritas] = useState(false);\n  const formatearFecha = fecha => {\n    const opciones = {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    };\n    return new Date(fecha).toLocaleDateString('es-ES', opciones);\n  };\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      const userData = JSON.parse(storedUser);\n      setUsuario(userData);\n      if (userData.tipo_usuario === 'Jugador') {\n        axios.get(`http://localhost:8000/api/ofertas/favoritos/${userData.id}`).then(response => {\n          const favoritosIds = response.data.map(oferta => oferta.id);\n          setFavoritos(favoritosIds);\n        }).catch(error => {\n          console.error('Error al obtener favoritos:', error);\n        });\n      }\n    }\n    const fetchOfertas = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/api/ofertas');\n        const ofertasData = response.data;\n        setOfertas(ofertasData);\n        const categoriasUnicas = [...new Set(ofertasData.map(oferta => oferta.categoria))];\n        setCategorias(categoriasUnicas);\n        setError(null);\n      } catch (error) {\n        console.error('Hubo un error al obtener las ofertas:', error);\n        setError('No se pudieron cargar las ofertas, por favor intente más tarde.');\n      }\n    };\n    fetchOfertas();\n  }, []);\n  const esAdmin = usuario && usuario.email.toLowerCase() === 'admin@gmail.com';\n  const esJugador = usuario && usuario.tipo_usuario === 'Jugador';\n  const toggleFavorito = async ofertaId => {\n    if (!usuario) {\n      alert('Tienes que iniciar sesión para marcar favoritos.');\n      return;\n    }\n    try {\n      if (favoritos.includes(ofertaId)) {\n        await axios.delete('http://localhost:8000/api/ofertas/favorito', {\n          data: {\n            jugador_id: usuario.id,\n            oferta_id: ofertaId\n          }\n        });\n        setFavoritos(prev => prev.filter(id => id !== ofertaId));\n      } else {\n        await axios.post('http://localhost:8000/api/ofertas/favorito', {\n          jugador_id: usuario.id,\n          oferta_id: ofertaId\n        });\n        setFavoritos(prev => [...prev, ofertaId]);\n      }\n    } catch (err) {\n      console.error('Error al actualizar favoritos:', err);\n      alert('No se pudo actualizar favoritos. Inténtalo de nuevo.');\n    }\n  };\n  const mostrarDetalles = oferta => {\n    setOfertaSeleccionada(oferta);\n  };\n  const cerrarOferta = () => {\n    setOfertaSeleccionada(null);\n  };\n  const eliminarOferta = async id => {\n    if (esAdmin) {\n      try {\n        await axios.delete(`http://localhost:8000/api/ofertas/${id}`);\n        setOfertas(ofertas.filter(oferta => oferta.id !== id));\n        setOfertaSeleccionada(null);\n      } catch (error) {\n        console.error('Hubo un error al eliminar la oferta:', error);\n        alert('No se pudo eliminar la oferta.');\n      }\n    } else {\n      alert('No tienes permisos para eliminar esta oferta.');\n    }\n  };\n  const handleCategoriaChange = event => {\n    setCategoriaSeleccionada(event.target.value);\n  };\n  const handleBusquedaChange = event => {\n    setBusqueda(event.target.value);\n  };\n  const ofertasFiltradas = ofertas.filter(oferta => {\n    const coincideCategoria = categoriaSeleccionada ? oferta.categoria === categoriaSeleccionada : true;\n    const coincideBusqueda = oferta.titulo.toLowerCase().includes(busqueda.toLowerCase());\n    return coincideCategoria && coincideBusqueda;\n  });\n  const ofertasOrdenadas = ofertasFiltradas.sort((a, b) => a.titulo.localeCompare(b.titulo));\n  const ofertasFavoritas = ofertasOrdenadas.filter(oferta => favoritos.includes(oferta.id));\n  const ofertasParaMostrar = verFavoritas ? ofertasFavoritas : verTodas ? ofertasOrdenadas : ofertasOrdenadas.slice(0, 5);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ofertas-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"OFERTAS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buscador\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Buscar oferta por t\\xEDtulo...\",\n        value: busqueda,\n        onChange: handleBusquedaChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filtro-categoria\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        value: categoriaSeleccionada,\n        onChange: handleCategoriaChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Todas las categor\\xEDas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), categorias.map((categoria, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: categoria,\n          children: categoria\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filtro-favoritos\",\n      children: [!verFavoritas && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setVerTodas(!verTodas),\n        style: {\n          marginBottom: '10px'\n        },\n        children: verTodas ? 'Ver menos ofertas' : 'Ver todas las ofertas'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: '10px 0'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), esJugador && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setVerFavoritas(!verFavoritas),\n        children: verFavoritas ? 'Ver todas las ofertas' : 'Ver mis favoritas'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }, this), ofertasOrdenadas.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: ofertasParaMostrar.map(oferta => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          onClick: () => mostrarDetalles(oferta),\n          children: oferta.titulo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }, this), ofertaSeleccionada && ofertaSeleccionada.id === oferta.id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Detalles de la oferta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"T\\xEDtulo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 22\n            }, this), \" \", ofertaSeleccionada.titulo]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Descripci\\xF3n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 22\n            }, this), \" \", ofertaSeleccionada.descripcion]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Fecha de inicio:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 22\n            }, this), \" \", formatearFecha(ofertaSeleccionada.fecha_inicio)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Fecha de fin:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 22\n            }, this), \" \", formatearFecha(ofertaSeleccionada.fecha_fin)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Categor\\xEDa:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 22\n            }, this), \" \", ofertaSeleccionada.categoria]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close\",\n            onClick: cerrarOferta,\n            children: \"Cerrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 19\n          }, this), esAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete\",\n            onClick: () => eliminarOferta(ofertaSeleccionada.id),\n            children: \"Eliminar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }, this), esJugador && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `estrella-favorito ${favoritos.includes(oferta.id) ? 'activo' : ''}`,\n          onClick: () => toggleFavorito(oferta.id),\n          title: favoritos.includes(oferta.id) ? 'Quitar de favoritos' : 'Añadir a favoritos',\n          children: \"\\u2605\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 3\n        }, this)]\n      }, oferta.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"no-ofertas\",\n      children: \"No hay ofertas disponibles en este momento.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n_s(Ofertas, \"mhveuLDmMzF1Glj8odG6m68gxjU=\");\n_c = Ofertas;\nexport default Ofertas;\nvar _c;\n$RefreshReg$(_c, \"Ofertas\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Ofertas","_s","ofertas","setOfertas","ofertaSeleccionada","setOfertaSeleccionada","error","setError","usuario","setUsuario","categorias","setCategorias","categoriaSeleccionada","setCategoriaSeleccionada","busqueda","setBusqueda","verTodas","setVerTodas","favoritos","setFavoritos","verFavoritas","setVerFavoritas","formatearFecha","fecha","opciones","year","month","day","Date","toLocaleDateString","storedUser","localStorage","getItem","userData","JSON","parse","tipo_usuario","get","id","then","response","favoritosIds","data","map","oferta","catch","console","fetchOfertas","ofertasData","categoriasUnicas","Set","categoria","esAdmin","email","toLowerCase","esJugador","toggleFavorito","ofertaId","alert","includes","delete","jugador_id","oferta_id","prev","filter","post","err","mostrarDetalles","cerrarOferta","eliminarOferta","handleCategoriaChange","event","target","value","handleBusquedaChange","ofertasFiltradas","coincideCategoria","coincideBusqueda","titulo","ofertasOrdenadas","sort","a","b","localeCompare","ofertasFavoritas","ofertasParaMostrar","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","index","onClick","style","marginBottom","margin","length","descripcion","fecha_inicio","fecha_fin","title","_c","$RefreshReg$"],"sources":["C:/Users/gerar/OneDrive/Documentos/proyecto/frontend/src/Ofertas.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Ofertas.css';\n\nconst Ofertas = () => {\n  const [ofertas, setOfertas] = useState([]);\n  const [ofertaSeleccionada, setOfertaSeleccionada] = useState(null);\n  const [error, setError] = useState(null);\n  const [usuario, setUsuario] = useState(null);\n  const [categorias, setCategorias] = useState([]);\n  const [categoriaSeleccionada, setCategoriaSeleccionada] = useState('');\n  const [busqueda, setBusqueda] = useState('');\n  const [verTodas, setVerTodas] = useState(false);\n  const [favoritos, setFavoritos] = useState([]);\n  const [verFavoritas, setVerFavoritas] = useState(false);\n\n  const formatearFecha = (fecha) => {\n    const opciones = { year: 'numeric', month: '2-digit', day: '2-digit' };\n    return new Date(fecha).toLocaleDateString('es-ES', opciones);\n  };\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      const userData = JSON.parse(storedUser);\n      setUsuario(userData);\n\n      if (userData.tipo_usuario === 'Jugador') {\n        axios\n          .get(`http://localhost:8000/api/ofertas/favoritos/${userData.id}`)\n          .then((response) => {\n            const favoritosIds = response.data.map((oferta) => oferta.id);\n            setFavoritos(favoritosIds);\n          })\n          .catch((error) => {\n            console.error('Error al obtener favoritos:', error);\n          });\n      }\n    }\n\n    const fetchOfertas = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/api/ofertas');\n        const ofertasData = response.data;\n        setOfertas(ofertasData);\n\n        const categoriasUnicas = [\n          ...new Set(ofertasData.map((oferta) => oferta.categoria)),\n        ];\n        setCategorias(categoriasUnicas);\n        setError(null);\n      } catch (error) {\n        console.error('Hubo un error al obtener las ofertas:', error);\n        setError('No se pudieron cargar las ofertas, por favor intente más tarde.');\n      }\n    };\n\n    fetchOfertas();\n  }, []);\n\n  const esAdmin = usuario && usuario.email.toLowerCase() === 'admin@gmail.com';\n  const esJugador = usuario && usuario.tipo_usuario === 'Jugador';\n\n  const toggleFavorito = async (ofertaId) => {\n    if (!usuario) {\n      alert('Tienes que iniciar sesión para marcar favoritos.');\n      return;\n    }\n\n    try {\n      if (favoritos.includes(ofertaId)) {\n        await axios.delete('http://localhost:8000/api/ofertas/favorito', {\n          data: { jugador_id: usuario.id, oferta_id: ofertaId },\n        });\n        setFavoritos((prev) => prev.filter((id) => id !== ofertaId));\n      } else {\n        await axios.post('http://localhost:8000/api/ofertas/favorito', {\n          jugador_id: usuario.id,\n          oferta_id: ofertaId,\n        });\n        setFavoritos((prev) => [...prev, ofertaId]);\n      }\n    } catch (err) {\n      console.error('Error al actualizar favoritos:', err);\n      alert('No se pudo actualizar favoritos. Inténtalo de nuevo.');\n    }\n  };\n\n  const mostrarDetalles = (oferta) => {\n    setOfertaSeleccionada(oferta);\n  };\n\n  const cerrarOferta = () => {\n    setOfertaSeleccionada(null);\n  };\n\n  const eliminarOferta = async (id) => {\n    if (esAdmin) {\n      try {\n        await axios.delete(`http://localhost:8000/api/ofertas/${id}`);\n        setOfertas(ofertas.filter((oferta) => oferta.id !== id));\n        setOfertaSeleccionada(null);\n      } catch (error) {\n        console.error('Hubo un error al eliminar la oferta:', error);\n        alert('No se pudo eliminar la oferta.');\n      }\n    } else {\n      alert('No tienes permisos para eliminar esta oferta.');\n    }\n  };\n\n  const handleCategoriaChange = (event) => {\n    setCategoriaSeleccionada(event.target.value);\n  };\n\n  const handleBusquedaChange = (event) => {\n    setBusqueda(event.target.value);\n  };\n\n  const ofertasFiltradas = ofertas.filter((oferta) => {\n    const coincideCategoria = categoriaSeleccionada\n      ? oferta.categoria === categoriaSeleccionada\n      : true;\n    const coincideBusqueda = oferta.titulo.toLowerCase().includes(busqueda.toLowerCase());\n    return coincideCategoria && coincideBusqueda;\n  });\n\n  const ofertasOrdenadas = ofertasFiltradas.sort((a, b) =>\n    a.titulo.localeCompare(b.titulo)\n  );\n\n  const ofertasFavoritas = ofertasOrdenadas.filter((oferta) =>\n    favoritos.includes(oferta.id)\n  );\n\n  const ofertasParaMostrar = verFavoritas\n    ? ofertasFavoritas\n    : verTodas\n    ? ofertasOrdenadas\n    : ofertasOrdenadas.slice(0, 5);\n\n  return (\n    <div className=\"ofertas-container\">\n      <h1>OFERTAS</h1>\n\n      <div className=\"buscador\">\n        <input\n          type=\"text\"\n          placeholder=\"Buscar oferta por título...\"\n          value={busqueda}\n          onChange={handleBusquedaChange}\n        />\n      </div>\n\n      <div className=\"filtro-categoria\">\n        <select value={categoriaSeleccionada} onChange={handleCategoriaChange}>\n          <option value=\"\">Todas las categorías</option>\n          {categorias.map((categoria, index) => (\n            <option key={index} value={categoria}>\n              {categoria}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"filtro-favoritos\">\n        {!verFavoritas && (\n          <button\n            onClick={() => setVerTodas(!verTodas)}\n            style={{ marginBottom: '10px' }}\n          >\n            {verTodas ? 'Ver menos ofertas' : 'Ver todas las ofertas'}\n          </button>\n        )}\n\n        <div style={{ margin: '10px 0' }} />\n\n        {esJugador && (\n          <button onClick={() => setVerFavoritas(!verFavoritas)}>\n            {verFavoritas ? 'Ver todas las ofertas' : 'Ver mis favoritas'}\n          </button>\n        )}\n      </div>\n\n      {error && <div className=\"error\">{error}</div>}\n\n      {ofertasOrdenadas.length > 0 ? (\n        <ul>\n          {ofertasParaMostrar.map((oferta) => (\n            <li key={oferta.id}>\n              <h2 onClick={() => mostrarDetalles(oferta)}>{oferta.titulo}</h2>\n\n              {ofertaSeleccionada && ofertaSeleccionada.id === oferta.id && (\n                <div className=\"details\">\n                  <h3>Detalles de la oferta</h3>\n                  <p><strong>Título:</strong> {ofertaSeleccionada.titulo}</p>\n                  <p><strong>Descripción:</strong> {ofertaSeleccionada.descripcion}</p>\n                  <p><strong>Fecha de inicio:</strong> {formatearFecha(ofertaSeleccionada.fecha_inicio)}</p>\n                  <p><strong>Fecha de fin:</strong> {formatearFecha(ofertaSeleccionada.fecha_fin)}</p>\n                  <p><strong>Categoría:</strong> {ofertaSeleccionada.categoria}</p>\n\n                  <button className=\"close\" onClick={cerrarOferta}>Cerrar</button>\n\n                  {esAdmin && (\n                    <button className=\"delete\" onClick={() => eliminarOferta(ofertaSeleccionada.id)}>\n                      Eliminar\n                    </button>\n                  )}\n                </div>\n              )}\n\n{esJugador && (\n  <span\n    className={`estrella-favorito ${favoritos.includes(oferta.id) ? 'activo' : ''}`}\n    onClick={() => toggleFavorito(oferta.id)}\n    title={favoritos.includes(oferta.id) ? 'Quitar de favoritos' : 'Añadir a favoritos'}\n  >\n    ★\n  </span>\n)}\n\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p className=\"no-ofertas\">No hay ofertas disponibles en este momento.</p>\n      )}\n    </div>\n  );\n};\n\nexport default Ofertas;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}